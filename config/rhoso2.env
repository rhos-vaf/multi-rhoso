#!/bin/bash
# RHOSO Instance 2 Configuration
# NOTE: Common settings are defined in the Makefile (PASSWORD, TIMEOUT, network isolation, etc.)

#############################################
# Namespace Configuration (MUST be different)
# You can use any name: openstack2, rhoso2, staging, testlab, etc.
#############################################
export NAMESPACE=rhoso2

#############################################
# Instance-Specific Network Addressing
# MUST be unique and non-overlapping with RHOSO Instance 1
#############################################
# Control Plane Network (different suffix on same network)
export NNCP_CTLPLANE_IP_ADDRESS_SUFFIX=20

# Internal API Network (VLAN 20 - different subnet)
export NETWORK_INTERNALAPI_ADDRESS_PREFIX=172.27.0

# Storage Network (VLAN 21 - different subnet)
export NETWORK_STORAGE_ADDRESS_PREFIX=172.29.0

# Tenant Network (VLAN 22 - different subnet)
export NETWORK_TENANT_ADDRESS_PREFIX=172.31.0

# Storage Management Network (VLAN 23 - different subnet)
export NETWORK_STORAGEMGMT_ADDRESS_PREFIX=172.32.0

# Designate Network (VLAN 25 - different subnet)
export NETWORK_DESIGNATE_ADDRESS_PREFIX=172.38.0

# Designate External Network (VLAN 26 - different subnet)
export NETWORK_DESIGNATE_EXT_ADDRESS_PREFIX=172.51.0

#############################################
# MetalLB IP Pools
# Note: Using separate range from openstack instance
# - openstack uses: 192.168.122.80-90
# - openstack2 uses: 192.168.122.110-120
# Both ranges are reachable from EDPM nodes (verified)
# Requires secondary IPs on CRC node for VLAN networks
#############################################
export CTLPLANE_METALLB_POOL=192.168.122.110-192.168.122.120

#############################################
# Data Plane Configuration
#############################################
export DATAPLANE_COMPUTE_IP=192.168.122.101
export DATAPLANE_COMPUTE_0_IP=192.168.122.101
export DATAPLANE_COMPUTE_0_NAME=edpm-compute-1

echo "âœ… RHOSO Instance 2 configuration loaded"
echo "   Namespace: ${NAMESPACE}"
echo "   CtlPlane MetalLB Pool: ${CTLPLANE_METALLB_POOL}"
echo "   Internal API: ${NETWORK_INTERNALAPI_ADDRESS_PREFIX}.0/24"
echo "   Storage: ${NETWORK_STORAGE_ADDRESS_PREFIX}.0/24"
echo "   Tenant: ${NETWORK_TENANT_ADDRESS_PREFIX}.0/24"
